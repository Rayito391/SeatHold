<router-outlet *ngIf="token()"></router-outlet>

<div class="page" *ngIf="!token()">
  <div class="card">
    <header>
      <div class="brand">SeatHold</div>
      <div class="subtitle">Login y registro</div>
    </header>

    <div class="tabs">
      <button type="button" [class.active]="mode() === 'login'" (click)="setMode('login')">
        Login
      </button>
      <button type="button" [class.active]="mode() === 'register'" (click)="setMode('register')">
        Registro
      </button>
    </div>

    <div class="message" *ngIf="message()">{{ message() }}</div>

    <form *ngIf="mode() === 'login'" [formGroup]="loginForm" (ngSubmit)="submitLogin()">
      <label>
        Email
        <input type="email" formControlName="email" placeholder="tu@email.com" />
      </label>
      <label>
        Contrasena
        <input type="password" formControlName="password" placeholder="********" />
      </label>
      <button type="submit" [disabled]="loading()">Entrar</button>
    </form>

    <form *ngIf="mode() === 'register'" [formGroup]="registerForm" (ngSubmit)="submitRegister()">
      <label>
        Nombre
        <input type="text" formControlName="firstName" placeholder="Nombre" />
      </label>
      <label>
        Apellido
        <input type="text" formControlName="lastName" placeholder="Apellido" />
      </label>
      <label>
        Email
        <input type="email" formControlName="email" placeholder="tu@email.com" />
      </label>
      <label>
        Contrasena
        <input type="password" formControlName="password" placeholder="Minimo 6 caracteres" />
      </label>
      <button type="submit" [disabled]="loading()">Crear cuenta</button>
    </form>
  </div>
</div>
